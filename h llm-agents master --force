[1mdiff --git a/public/ai-player.html b/public/ai-player.html[m
[1mindex d253ab5..e9d4ec0 100644[m
[1m--- a/public/ai-player.html[m
[1m+++ b/public/ai-player.html[m
[36m@@ -5,12 +5,123 @@[m
     <meta name="viewport" content="width=device-width, initial-scale=1.0">[m
     <title>üé® AI Player - Poietic Generator</title>[m
     <link rel="stylesheet" href="css/llm-player.css">[m
[32m+[m[32m    <style>[m
[32m+[m[32m        .image-samples {[m
[32m+[m[32m            display: flex;[m
[32m+[m[32m            flex-direction: column;[m
[32m+[m[32m            gap: 10px;[m
[32m+[m[32m            max-height: 300px;[m
[32m+[m[32m            overflow-y: auto;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-item {[m
[32m+[m[32m            border: 1px solid #333;[m
[32m+[m[32m            border-radius: 6px;[m
[32m+[m[32m            padding: 8px;[m
[32m+[m[32m            background: #1a1a1a;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-title {[m
[32m+[m[32m            font-size: 11px;[m
[32m+[m[32m            color: #888;[m
[32m+[m[32m            margin-bottom: 5px;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-thumbnail {[m
[32m+[m[32m            max-width: 100%;[m
[32m+[m[32m            height: auto;[m
[32m+[m[32m            border-radius: 4px;[m
[32m+[m[32m            cursor: pointer;[m
[32m+[m[32m            transition: opacity 0.2s;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-thumbnail:hover {[m
[32m+[m[32m            opacity: 0.8;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-placeholder {[m
[32m+[m[32m            text-align: center;[m
[32m+[m[32m            color: #666;[m
[32m+[m[32m            font-style: italic;[m
[32m+[m[32m            padding: 20px;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-actions {[m
[32m+[m[32m            display: flex;[m
[32m+[m[32m            gap: 5px;[m
[32m+[m[32m            margin-top: 5px;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-btn {[m
[32m+[m[32m            background: #4CAF50;[m
[32m+[m[32m            color: white;[m
[32m+[m[32m            border: none;[m
[32m+[m[32m            padding: 3px 8px;[m
[32m+[m[32m            border-radius: 3px;[m
[32m+[m[32m            font-size: 10px;[m
[32m+[m[32m            cursor: pointer;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-btn:hover {[m
[32m+[m[32m            background: #45a049;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-btn.secondary {[m
[32m+[m[32m            background: #666;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        .image-sample-btn.secondary:hover {[m
[32m+[m[32m            background: #777;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        /* Modal pour afficher les images en grand */[m
[32m+[m[32m        .image-modal {[m
[32m+[m[32m            display: none;[m
[32m+[m[32m            position: fixed;[m
[32m+[m[32m            z-index: 1000;[m
[32m+[m[32m            left: 0;[m
[32m+[m[32m            top: 0;[m
[32m+[m[32m            width: 100%;[m
[32m+[m[32m            height: 100%;[m
[32m+[m[32m            background-color: rgba(0,0,0,0.9);[m
[32m+[m[32m            cursor: pointer;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        .image-modal-content {[m
[32m+[m[32m            position: absolute;[m
[32m+[m[32m            top: 50%;[m
[32m+[m[32m            left: 50%;[m
[32m+[m[32m            transform: translate(-50%, -50%);[m
[32m+[m[32m            max-width: 90%;[m
[32m+[m[32m            max-height: 90%;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        .image-modal img {[m
[32m+[m[32m            width: 100%;[m
[32m+[m[32m            height: auto;[m
[32m+[m[32m            border-radius: 8px;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        .image-modal-close {[m
[32m+[m[32m            position: absolute;[m
[32m+[m[32m            top: 20px;[m
[32m+[m[32m            right: 30px;[m
[32m+[m[32m            color: #fff;[m
[32m+[m[32m            font-size: 30px;[m
[32m+[m[32m            font-weight: bold;[m
[32m+[m[32m            cursor: pointer;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        .image-modal-close:hover {[m
[32m+[m[32m            color: #ccc;[m
[32m+[m[32m        }[m
[32m+[m[32m    </style>[m
 </head>[m
 <body>[m
     <div class="container">[m
         <!-- Panneau Viewer -->[m
         <div class="viewer-panel">[m
[31m-            <iframe id="viewer-frame" src="/viewer"></iframe>[m
[32m+[m[32m            <iframe id="viewer-frame" src="/viewer2"></iframe>[m
         </div>[m
 [m
         <!-- Panneau de contr√¥le -->[m
[36m@@ -26,7 +137,8 @@[m
                 <div class="input-group">[m
                     <label>Mod√®le LLM</label>[m
                     <select id="llm-model-select">[m
[31m-                        <option value="ollama" selected>ü¶ô Ollama Llama3.2 3B (Gratuit, OVH GPU)</option>[m
[32m+[m[32m                        <option value="ollama">ü¶ô Ollama Llama3.2 3B (Gratuit, OVH GPU)</option>[m
[32m+[m[32m                        <option value="llava" selected>üëÅÔ∏è LLaVA 7B Vision (Gratuit, OVH GPU)</option>[m
                         <option value="anthropic">ü§ñ Anthropic Claude 3.5 Sonnet</option>[m
                         <option value="openai">üîÆ OpenAI GPT-4</option>[m
                         <option value="claude-vision" disabled>üëÅÔ∏è Claude Vision (bient√¥t disponible)</option>[m
[36m@@ -46,8 +158,10 @@[m
                 <div class="input-group">[m
                     <label>Viewer URL <span class="viewer-url-toggle" id="toggle-viewer-url">‚ñº Changer</span></label>[m
                     <select id="viewer-url" style="display: none;">[m
[31m-                        <option value="/viewer" selected>Automatique (m√™me serveur)</option>[m
[31m-                        <option value="http://localhost:3001/viewer">Local (localhost:3001)</option>[m
[32m+[m[32m                        <option value="/viewer">Viewer (avec initial state)</option>[m
[32m+[m[32m                        <option value="/viewer2" selected>Viewer2 (fond noir - LLM)</option>[m
[32m+[m[32m                        <option value="http://localhost:3001/viewer">Local viewer (localhost:3001)</option>[m
[32m+[m[32m                        <option value="http://localhost:3001/viewer2">Local viewer2 (localhost:3001)</option>[m
                         <option value="https://poietic-generator.net/viewer">Production (poietic-generator.net)</option>[m
                     </select>[m
                 </div>[m
[36m@@ -69,6 +183,55 @@[m
                 </div>[m
             </div>[m
 [m
[32m+[m[32m            <!-- Mode toggle button -->[m
[32m+[m[32m            <div class="section">[m
[32m+[m[32m                <div class="button-group">[m
[32m+[m[32m                    <button id="toggle-mode-btn">Mode libre collaboratif</button>[m
[32m+[m[32m                </div>[m
[32m+[m[32m            </div>[m
[32m+[m
[32m+[m[32m            <!-- Exercices (Entra√Ænement) -->[m
[32m+[m[32m            <div class="section" id="training-panel" style="display: none;">[m
[32m+[m[32m                <div class="section-title">üß™ Exercices (Entra√Ænement)</div>[m
[32m+[m[32m                <div class="input-group" style="display:grid; grid-template-columns: 1fr 1fr; gap:8px; align-items:center;">[m
[32m+[m[32m                    <label><input type="checkbox" id="training-enabled"> Activer l'entra√Ænement</label>[m
[32m+[m[32m                    <span style="font-size:11px; color:#888;">Le prompt sera g√©n√©r√© selon la phase/exercice</span>[m
[32m+[m[32m                    <div>[m
[32m+[m[32m                        <label>Phase</label>[m
[32m+[m[32m                        <select id="training-phase">[m
[32m+[m[32m                            <option value="A">Phase A ‚Äî Dessin guid√©</option>[m
[32m+[m[32m                            <option value="B">Phase B ‚Äî Copie</option>[m
[32m+[m[32m                            <option value="C">Phase C ‚Äî Cr√©ation guid√©e</option>[m
[32m+[m[32m                            <option value="D">Phase D ‚Äî Interaction</option>[m
[32m+[m[32m                        </select>[m
[32m+[m[32m                    </div>[m
[32m+[m[32m                    <div>[m
[32m+[m[32m                        <label>Exercice</label>[m
[32m+[m[32m                        <select id="training-ex">[m
[32m+[m[32m                            <option value="A1">A1 ‚Äî Coins+centre impos√©s</option>[m
[32m+[m[32m                            <option value="A2">A2 ‚Äî Coins+centre, couleurs libres</option>[m
[32m+[m[32m                            <option value="A3">A3 ‚Äî Coins+centre, positions libres</option>[m
[32m+[m[32m                            <option value="A4">A4 ‚Äî Damier 2 couleurs</option>[m
[32m+[m[32m                            <option value="A5">A5 ‚Äî Damier couleurs invers√©es</option>[m
[32m+[m[32m                            <option value="B6">B6 ‚Äî Copier voisin cardinal</option>[m
[32m+[m[32m                            <option value="B7">B7 ‚Äî Miroir voisin cardinal</option>[m
[32m+[m[32m                            <option value="B8">B8 ‚Äî Copier voisin diagonal + rotation</option>[m
[32m+[m[32m                            <option value="C9">C9 ‚Äî D√©grad√© centre‚Üíbord</option>[m
[32m+[m[32m                            <option value="C10">C10 ‚Äî Paysage stylis√©</option>[m
[32m+[m[32m                            <option value="C11">C11 ‚Äî Visage sur paysage</option>[m
[32m+[m[32m                            <option value="D12">D12 ‚Äî Compl√©ter motif voisin</option>[m
[32m+[m[32m                            <option value="D13">D13 ‚Äî Passerelle entre voisins</option>[m
[32m+[m[32m                            <option value="D14">D14 ‚Äî Dessin libre</option>[m
[32m+[m[32m                        </select>[m
[32m+[m[32m                    </div>[m
[32m+[m[32m                </div>[m
[32m+[m[32m                <div class="input-group" style="display:flex; gap:8px; align-items:center; margin-top:8px;">[m
[32m+[m[32m                    <button id="btn-training-approve" class="secondary" title="Valider l'exercice" style="display:none;">‚úÖ Valider exercice</button>[m
[32m+[m[32m                    <button id="btn-training-reject" class="secondary" title="Rejeter et r√©essayer" style="display:none;">‚Ü©Ô∏è Rejeter</button>[m
[32m+[m[32m                    <span id="training-validation-hint" style="font-size:11px; color:#888; display:none;">Validation manuelle requise pour cet exercice</span>[m
[32m+[m[32m                </div>[m
[32m+[m[32m            </div>[m
[32m+[m
             <!-- √âtat -->[m
             <div class="section">[m
                 <div class="section-title">üìä √âtat</div>[m
[36m@@ -97,6 +260,14 @@[m
                 </div>[m
             </div>[m
 [m
[32m+[m[32m            <!-- √âchantillons d'images LLaVA -->[m
[32m+[m[32m            <div class="section">[m
[32m+[m[32m                <div class="section-title">üì∏ Images envoy√©es √† LLaVA</div>[m
[32m+[m[32m                <div class="image-samples" id="image-samples">[m
[32m+[m[32m                    <div class="image-sample-placeholder">Aucune image envoy√©e</div>[m
[32m+[m[32m                </div>[m
[32m+[m[32m            </div>[m
[32m+[m
             <!-- Journal -->[m
             <div class="section">[m
                 <div class="section-title">üìú Journal</div>[m
[36m@@ -107,10 +278,20 @@[m
         </div>[m
     </div>[m
 [m
[32m+[m[32m    <!-- Modal pour afficher les images en grand -->[m
[32m+[m[32m    <div id="image-modal" class="image-modal">[m
[32m+[m[32m        <span class="image-modal-close">&times;</span>[m
[32m+[m[32m        <div class="image-modal-content">[m
[32m+[m[32m            <img id="modal-image" src="" alt="Image LLaVA">[m
[32m+[m[32m        </div>[m
[32m+[m[32m    </div>[m
[32m+[m
     <!-- Scripts -->[m
[31m-    <script type="module" src="js/spatial-analysis.js?v=20251011-05"></script>[m
[31m-    <script type="module" src="js/llm-adapters/anthropic.js?v=20251011-05"></script>[m
[31m-    <script type="module" src="js/llm-adapters/ollama.js?v=20251011-23"></script>[m
[31m-    <script type="module" src="js/ai-player.js?v=20251011-22"></script>[m
[32m+[m[32m    <script type="module" src="js/spatial-analysis.js?v=20250116-49"></script>[m
[32m+[m[32m    <script type="module" src="js/llm-adapters/anthropic.js?v=20250116-49"></script>[m
[32m+[m[32m    <script type="module" src="js/llm-adapters/ollama.js?v=20250116-49"></script>[m
[32m+[m[32m    <script type="module" src="js/llm-adapters/llava.js?v=20250116-49"></script>[m
[32m+[m[32m    <script type="module" src="js/llava-canvas.js?v=20250116-49"></script>[m
[32m+[m[32m    <script type="module" src="js/ai-player.js?v=20250116-49"></script>[m
 </body>[m
 </html>[m
\ No newline at end of file[m
